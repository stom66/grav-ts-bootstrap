{% set theme_config = attribute(config.themes, config.system.pages.theme) %}
<!doctype html>
<html lang="{{ grav.language.getActive ?: grav.config.site.default_lang }}">
	<head>
	{% block head %}
		<!-- Basic declarations -->
		    <meta charset="utf-8">
		    <meta http-equiv="x-ua-compatible" content="ie=edge">
		    <meta name="viewport"              content="width=device-width, initial-scale=1, shrink-to-fit=no">
		    
		    <title>{% if header.title %}{{ header.title|e('html') }} | {% endif %}{{ site.title|e('html') }}</title>

		  <!-- Web manifest -->
		    <link rel="manifest" href="https://www.domain.com/path/to/app-manifest.json">

		  <!-- Declare canonical URL -->
		    <link rel="canonical" href="{{ page.url(true, true) }}" />
		    
		  <!-- Basic Meta data -->
		    <meta name="application-name"       content="{{ site.title }}" />
		    <meta name="author"                 content="{{ page.metadata.author.content ?: page.header.author ?: page.title}}" />
		    <meta name="copyright"              content="Copyright (C) author, All Rights Reserved" />
		    <meta name="description"            content="{{ page.header.description ?: page.metadata.description.content }}" />
		    <meta name="generator"              content="{{ page.metadata.generator.content ?: 'GravCMS' }}" />
		    <meta name="keywords"               content="{{ header.keywords }}" />
		    <meta name="robots"                 content="{{ page.metadata.robots.content ?: 'index,follow' }}" />

		    {% include 'partials/metadata.html.twig' %}

		  <!-- Open graph meta data -->
		    <meta property="og:description"     content="{{ page.description|e() }}" />
		    <meta property="og:image"           content="https://www.domain.com/assets/themes/bootstrap4/icons/catt-butt-white-outline.png" />
		    <meta property="og:locale"          content="{{ grav.language.getActive ?: grav.config.site.default_lang }}" />
		    <meta property="og:site_name"       content="{{ site.title|e('html') }}" />
		    <meta property="og:title"           content="{{ page.metadata['og:title'].content ?: page.title }}" />
		    <meta property="og:type"            content="{{ page.metadata['og:type'].content ?: 'website' }}" />
		    <meta property="og:updated_time"    content="{{ page.metadata['og:updated_time'].content ?: page.date|date("Y-m-d\\TH:i:sP") }}" />
		    <meta property="og:url"             content="{{ page.url(true, true) }}" />

		  <!-- Twitter meta data -->
		    <meta name="twitter:card"           content="summary" />
		    <meta name="twitter:creator"        content="@twithandle" />
		    <meta name="twitter:description"    content="" />
		    <meta name="twitter:domain"         content="{{ base_url }}" />
		    <meta name="twitter:image"          content="{{ page.header.ogimage or theme_config.ogimage}}" />
		    <meta name="twitter:site"           content="{{ site.title|e('html') }}" />
		    <meta name="twitter:title"          content="{{ page.title|e('html') }}" />
		    <meta name="twitter:url"            content="{{ page.url(true, true) }}" />
		    <meta name="tweetmeme-title"        content="Home" />

		  <!-- Link to sitemap -->
		    <link rel="sitemap" type="application/xml" title="Sitemap" href="https://www.domain.com/path/to/sitemap.xml" />

			{% if theme_config.fb_app_id != '' %}
		  <!-- Facebook meta data -->
		    <meta property="fb:app_id" content="123xxxxxxx" />

			{% endif %}

		    {% include 'partials/favicons.html.twig' %}

		  <!-- Other global meta data -->
		    <base href="{{ base_url }}" />

		  <!-- Stylesheets -->
		    {% block stylesheets %}
		        {% do assets.add('theme://css/font-awesome.min.css', 99) %}
		        {% do assets.add('theme://css-compiled/theme.css', 98) %}
		    {% endblock %}

			{% block javascripts %}
				{% do assets.add('jquery', 101) %}
				{% do assets.add('theme://js/modernizr-custom.js', 100) %}
				{% do assets.add('theme://js/site.js', {group:'bottom'}) %}

		  		<!-- HTML5 Shiv for IE -->
				{% if browser.getBrowser == 'msie' and browser.getVersion >= 8 and browser.getVersion <= 9 %}
					{% do assets.add('https://oss.maxcdn.com/respond/1.4.2/respond.min.js') %}
					{% do assets.add('theme://js/html5shiv-printshiv.min.js') %}
				{% endif %}
			{% endblock %}

			{% block assets deferred %}
				{{ assets.css()|raw }}
				{{ assets.js()|raw }}
			{% endblock %}
		{% endblock head %}
	</head>

<!-- <neck></neck> -->

    <body class="{% block body_classes %}{{ page.header.body_classes }}{% endblock %}">
        {% if config.plugins.langswitcher.enabled %}
            {% include 'partials/langswitcher.html.twig' %}
        {% endif %}

        {% block header_navigation %}
            {% include 'partials/navigation.html.twig' %}
        {% endblock %}

        {% block content %}{% endblock %}
        {% block pagination %}{% endblock %}

        <div class="footer">
            <div class="container">
                <p class="text-muted">Bootstrap 4 Theme for <a href="http://getgrav.org">Grav</a></p>
            </div>
        </div>

        {% block bottom %}
            {{ assets.js('bottom')|raw }}
        {% endblock %}
    </body>
</html>
